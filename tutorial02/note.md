# 1. `v->n = strtod(c->json, &end);`做了什么呢

这段代码执行了以下操作：

`c->json` 是一个指向字符串的指针，表示待解析的 JSON 字符串。

`strtod(c->json, &end)` 是 C 语言中的标准库函数，用于将字符串转换为双精度浮点数。它接受两个参数：

第一个参数 `c->json` 是待转换的字符串。
第二个参数 `&end` 是一个指向指针的指针，用于获取转换后的字符串的结束位置。
`v->n` 是一个结构体或对象 `v` 的成员变量 `n`，表示该变量存储转换后的双精度浮点数值。

操作过程如下：

`strtod` 函数会尝试从 `c->json` 指向的字符串中解析出一个双精度浮点数，并将其赋值给 `v->n`。
如果解析成功，`v->n` 将包含解析后的双精度浮点数值。
同时，`&end` 指针会指向解析后的字符串的结束位置（即解析后的数字后面的字符）。
这段代码的目的是将 JSON 字符串中的某个数字值解析为双精度浮点数，并将结果存储在相应的变量 `v->n` 中，同时获取解析后字符串的结束位置。这通常用于解析 JSON 数据中的数值字段。

# 2. 第4题的`if (errno == ERANGE && (v->n == HUGE_VAL || -HUGE_VAL))`怎么理解呢?

在C语言中，`errno`是一个全局变量，用于指示发生错误的特定类型。当一些标准库函数（如`strtod()`、`malloc()`等）发生错误时，它们会设置errno变量以指示错误类型。

在上面的代码片段中，`errno`被设置为0，然后调用`strtod()`函数将字符串转换为双精度浮点数。如果转换过程中发生了范围错误（`ERANGE`），`strtod()`函数会将`errno`设置为`ERANGE`，表示结果超出了表示范围。

在这种情况下，如果`errno`被设置为`ERANGE`，同时转换结果为`HUGE_VAL`或`-HUGE_VAL`，这表明转换结果超出了`double`类型的表示范围，因此函数返回`LEPT_PARSE_NUMBER_TOO_BIG`错误码，表示数值过大无法表示。